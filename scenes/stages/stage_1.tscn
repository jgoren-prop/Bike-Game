[gd_scene load_steps=16 format=3]

[ext_resource type="Script" path="res://scripts/systems/stage_base.gd" id="1_stage_base"]

[sub_resource type="BoxShape3D" id="BoxShape3D_wide"]
size = Vector3(14, 1, 35)

[sub_resource type="BoxMesh" id="BoxMesh_wide"]
size = Vector3(14, 1, 35)

[sub_resource type="BoxShape3D" id="BoxShape3D_medium"]
size = Vector3(10, 1, 25)

[sub_resource type="BoxMesh" id="BoxMesh_medium"]
size = Vector3(10, 1, 25)

[sub_resource type="BoxShape3D" id="BoxShape3D_ramp"]
size = Vector3(12, 0.5, 15)

[sub_resource type="BoxMesh" id="BoxMesh_ramp"]
size = Vector3(12, 0.5, 15)

[sub_resource type="BoxShape3D" id="BoxShape3D_turn"]
size = Vector3(25, 1, 14)

[sub_resource type="BoxMesh" id="BoxMesh_turn"]
size = Vector3(25, 1, 14)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_road"]
albedo_color = Color(0.25, 0.28, 0.32, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ramp"]
albedo_color = Color(0.35, 0.32, 0.28, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_turn"]
albedo_color = Color(0.2, 0.4, 0.5, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_edge"]
albedo_color = Color(1, 0.7, 0.1, 1)
emission_enabled = true
emission = Color(0.4, 0.3, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_edge"]
size = Vector3(0.4, 0.25, 35)

[sub_resource type="BoxMesh" id="BoxMesh_edge_med"]
size = Vector3(0.4, 0.25, 25)

[sub_resource type="BoxShape3D" id="BoxShape3D_gate"]
size = Vector3(12, 5, 1)

[sub_resource type="BoxMesh" id="BoxMesh_finish"]
size = Vector3(14, 4, 0.4)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_finish"]
albedo_color = Color(1, 1, 1, 1)
emission_enabled = true
emission = Color(0.5, 0.5, 0.5, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_fall"]
size = Vector3(600, 1, 600)

[node name="Stage1" type="Node3D"]
script = ExtResource("1_stage_base")
stage_number = 1
time_limit = 90.0

[node name="SpawnPoint" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 12)

[node name="StartGate" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 12)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StartGate"]
shape = SubResource("BoxShape3D_gate")

[node name="Section1_Start" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 22)

[node name="Collision" type="CollisionShape3D" parent="Section1_Start"]
shape = SubResource("BoxShape3D_wide")

[node name="Mesh" type="MeshInstance3D" parent="Section1_Start"]
mesh = SubResource("BoxMesh_wide")
surface_material_override/0 = SubResource("StandardMaterial3D_road")

[node name="EdgeL" type="MeshInstance3D" parent="Section1_Start"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.8, 0.62, 0)
mesh = SubResource("BoxMesh_edge")
surface_material_override/0 = SubResource("StandardMaterial3D_edge")

[node name="EdgeR" type="MeshInstance3D" parent="Section1_Start"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.8, 0.62, 0)
mesh = SubResource("BoxMesh_edge")
surface_material_override/0 = SubResource("StandardMaterial3D_edge")

[node name="Ramp1" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.985, 0.174, 0, -0.174, 0.985, 0, 1.5, 50)

[node name="Collision" type="CollisionShape3D" parent="Ramp1"]
shape = SubResource("BoxShape3D_ramp")

[node name="Mesh" type="MeshInstance3D" parent="Ramp1"]
mesh = SubResource("BoxMesh_ramp")
surface_material_override/0 = SubResource("StandardMaterial3D_ramp")

[node name="Section2_Elevated" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 78)

[node name="Collision" type="CollisionShape3D" parent="Section2_Elevated"]
shape = SubResource("BoxShape3D_medium")

[node name="Mesh" type="MeshInstance3D" parent="Section2_Elevated"]
mesh = SubResource("BoxMesh_medium")
surface_material_override/0 = SubResource("StandardMaterial3D_road")

[node name="EdgeL" type="MeshInstance3D" parent="Section2_Elevated"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.714, -4.8, 0.62, 0)
mesh = SubResource("BoxMesh_edge_med")
surface_material_override/0 = SubResource("StandardMaterial3D_edge")

[node name="EdgeR" type="MeshInstance3D" parent="Section2_Elevated"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.714, 4.8, 0.62, 0)
mesh = SubResource("BoxMesh_edge_med")
surface_material_override/0 = SubResource("StandardMaterial3D_edge")

[node name="Turn1" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 4, 98)

[node name="Collision" type="CollisionShape3D" parent="Turn1"]
shape = SubResource("BoxShape3D_turn")

[node name="Mesh" type="MeshInstance3D" parent="Turn1"]
mesh = SubResource("BoxMesh_turn")
surface_material_override/0 = SubResource("StandardMaterial3D_turn")

[node name="Section3" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18, 4, 125)

[node name="Collision" type="CollisionShape3D" parent="Section3"]
shape = SubResource("BoxShape3D_medium")

[node name="Mesh" type="MeshInstance3D" parent="Section3"]
mesh = SubResource("BoxMesh_medium")
surface_material_override/0 = SubResource("StandardMaterial3D_road")

[node name="Turn2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 4, 145)

[node name="Collision" type="CollisionShape3D" parent="Turn2"]
shape = SubResource("BoxShape3D_turn")

[node name="Mesh" type="MeshInstance3D" parent="Turn2"]
mesh = SubResource("BoxMesh_turn")
surface_material_override/0 = SubResource("StandardMaterial3D_turn")

[node name="Ramp2_Down" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.985, -0.174, 0, 0.174, 0.985, 0, 2.5, 165)

[node name="Collision" type="CollisionShape3D" parent="Ramp2_Down"]
shape = SubResource("BoxShape3D_ramp")

[node name="Mesh" type="MeshInstance3D" parent="Ramp2_Down"]
mesh = SubResource("BoxMesh_ramp")
surface_material_override/0 = SubResource("StandardMaterial3D_ramp")

[node name="Section4_Gap1" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 190)

[node name="Collision" type="CollisionShape3D" parent="Section4_Gap1"]
shape = SubResource("BoxShape3D_medium")

[node name="Mesh" type="MeshInstance3D" parent="Section4_Gap1"]
mesh = SubResource("BoxMesh_medium")
surface_material_override/0 = SubResource("StandardMaterial3D_road")

[node name="Section5_Gap2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 222)

[node name="Collision" type="CollisionShape3D" parent="Section5_Gap2"]
shape = SubResource("BoxShape3D_medium")

[node name="Mesh" type="MeshInstance3D" parent="Section5_Gap2"]
mesh = SubResource("BoxMesh_medium")
surface_material_override/0 = SubResource("StandardMaterial3D_road")

[node name="Section6_Final" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 258)

[node name="Collision" type="CollisionShape3D" parent="Section6_Final"]
shape = SubResource("BoxShape3D_wide")

[node name="Mesh" type="MeshInstance3D" parent="Section6_Final"]
mesh = SubResource("BoxMesh_wide")
surface_material_override/0 = SubResource("StandardMaterial3D_road")

[node name="EdgeL" type="MeshInstance3D" parent="Section6_Final"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.8, 0.62, 0)
mesh = SubResource("BoxMesh_edge")
surface_material_override/0 = SubResource("StandardMaterial3D_edge")

[node name="EdgeR" type="MeshInstance3D" parent="Section6_Final"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.8, 0.62, 0)
mesh = SubResource("BoxMesh_edge")
surface_material_override/0 = SubResource("StandardMaterial3D_edge")

[node name="FinishGate" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 273)

[node name="CollisionShape3D" type="CollisionShape3D" parent="FinishGate"]
shape = SubResource("BoxShape3D_gate")

[node name="FinishVisual" type="MeshInstance3D" parent="FinishGate"]
mesh = SubResource("BoxMesh_finish")
surface_material_override/0 = SubResource("StandardMaterial3D_finish")

[node name="FallPlane" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -40, 140)

[node name="CollisionShape3D" type="CollisionShape3D" parent="FallPlane"]
shape = SubResource("BoxShape3D_fall")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.866, -0.354, 0.354, 0, 0.707, 0.707, -0.5, -0.612, 0.612, 0, 40, 0)
light_energy = 1.2
shadow_enabled = true
